!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/script/",e(e.s=0)}([function(t,n,e){"use strict";function r(t){return document.getElementById(t)}function o(t){for(var n,e,r,o=0;o<t.children.length;o++){var i=t.children[o];i.classList.contains("comandpost__hp")?e=i:i.classList.contains("comandpost__name")?n=i:i.classList.contains("comandpost__damage")&&(r=i)}return{name:n,hp:e,damage:r}}function i(t,n){void 0===n&&(n=[]);var e=document.createElement("div");return t.forEach((function(t){e.classList.add(t)})),n.forEach((function(t){e.appendChild(t)})),e}function a(t){for(var n=t.children,e=n.length,r=0;r<e;r++)t.removeChild(n[0])}e.r(n);var u,c,s=function(){function t(t){this.subs=[],this.value=t}return t.prototype.oninput=function(t,n){r(t).oninput=this.inputNext(n)},t.prototype.onclick=function(t,n){var e=this;r(t).onclick=function(t){return e.next(n(e.value))}},t.prototype.inputNext=function(t){var n=this;return function(e){n.next(t(e.target.value))}},Object.defineProperty(t.prototype,"actual",{get:function(){return this.value},enumerable:!0,configurable:!0}),t.prototype.next=function(t){this.value=t,this.update()},t.prototype.nextFn=function(t){this.next(t(this.value))},t.prototype.update=function(){for(var t=0,n=this.subs;t<n.length;t++){(0,n[t])(this.value)}},t.prototype.sub=function(t){this.subs.push(t),t(this.value)},t}(),f=(u=function(t,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}u(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return f(n,t),n.prototype.takeDamage=function(t){var n=this.value,e=n.hp,r=n.shield;0!=e&&((e-=t-=t*(r/100))<0&&(e=0),this.value.hp=Math.floor(e),this.update())},n.prototype.toDamage=function(t){t.takeDamage(this.value.damage)},Object.defineProperty(n.prototype,"state",{get:function(){return 0==this.value.hp?"Мёртв":""},enumerable:!0,configurable:!0}),n}(s),p=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h=function(t){function n(n,e,r){return t.call(this,{name:n,hp:e,maxHp:e,damage:r,shield:0,units:15})||this}return p(n,t),Object.defineProperty(n.prototype,"army",{get:function(){return this._army},set:function(t){var n=this;this._army=t,this._army.reserve.sub((function(t){n.value.units=t.length,n.update()}))},enumerable:!0,configurable:!0}),n}(l),d=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return d(n,t),n.prototype.add=function(){for(var t,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];(t=this.value).push.apply(t,n),this.update()},n.prototype.remove=function(t){this.next(this.value.filter((function(n){return n!=t})))},Object.defineProperty(n.prototype,"randomCard",{get:function(){var t=this.value[this.randomIndex];return this.remove(t),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shift",{get:function(){var t=this.value.shift();return this.update(),t},enumerable:!0,configurable:!0}),n.prototype.mix=function(){for(var t,n=0;n<this.value.length;n++){var e=this.randomIndex;t=[this.value[e],this.value[n]],this.value[n]=t[0],this.value[e]=t[1]}this.update()},Object.defineProperty(n.prototype,"randomIndex",{get:function(){return Math.floor(Math.random()*(this.value.length-1))},enumerable:!0,configurable:!0}),n.prototype.filter=function(){this.nextFn((function(t){return t.filter((function(t){return t.isDead}))}))},n}(s),v=function(){function t(t){var n=this;this.gamer=t,this.maxAttackCards=function(t){t.length>3&&n._reserve.add(n._attack.shift)},this._attack=new y([]),this._reserve=new y([]),t.army=this}return t.prototype.getAttacking=function(){for(var t=this._attack.actual.slice(),n=t.length;n<3;n++)t.push(this.gamer);return t},t.prototype.init=function(){this._attack.sub(this.maxAttackCards),this.setArmyBase(),this.update()},t.prototype.setArmyBase=function(){this._attack.next([]),this._reserve.next([])},t.prototype.update=function(){this._attack.filter()},t.prototype.toggleClassCards=function(t){this._attack.actual.forEach((function(n){n.getDiv().classList.toggle(t)}))},t.prototype.filterOnDeadCards=function(t){return 0!=t.actual.hp},Object.defineProperty(t.prototype,"attack",{get:function(){return this._attack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reserve",{get:function(){return this._reserve},enumerable:!0,configurable:!0}),t}(),_=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),b=function(t){function n(n,e,r,o,i){void 0===i&&(i=0);var a=t.call(this,{name:n,hp:e,maxHp:e,damage:r,imageUrl:o,shield:i})||this;return a.div=a.createCardHTML(),a}return _(n,t),n.prototype.getDiv=function(){return this.div},n.prototype.createCardHTML=function(){var t={hp:i(["property__hp"]),damage:i(["property__damage"]),shield:i(["propery__shield"])},n=t.hp,e=t.damage,r=t.shield,o=i(["card","card"],[i(["card__properties"],[n,r,e])]);return e.innerHTML=this.value.damage+' <i class="fas fa-fire-alt"></i>',r.innerHTML=(this.value.shield||0)+' <i class="fas fa-shield-alt"></i>',this.sub((function(t){n.innerHTML=t.hp+' <i class="fas fa-heart"></i>',o.style.opacity=.1+t.hp/t.maxHp*.9+""})),o.style.backgroundImage='url("'+this.value.imageUrl+'")',o},Object.defineProperty(n.prototype,"isDead",{get:function(){return 0!=this.value.hp},enumerable:!0,configurable:!0}),n}(l),m=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g=function(t){function n(){return t.call(this,"Терминатор",30,10,"assets/терминатор.jpg",20)||this}return m(n,t),n}(b),w=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),O=function(t){function n(){return t.call(this,"Т-345",40,15,"assets/Т-345.jpg",20)||this}return w(n,t),n}(b),x=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),P=function(t){function n(){return t.call(this,"Лёгкая пехота",15,7,"assets/лёгкая пехота.jpg",0)||this}return x(n,t),n}(b),j=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),k=function(t){function n(){return t.call(this,"Тяжёлая бронитехника",60,25,"assets/бронитехника.jpg",40)||this}return j(n,t),n}(b),A=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),L=function(t){function n(){return t.call(this,F)||this}return A(n,t),n.prototype.init=function(){t.prototype.init.call(this),this._attack.sub((function(t){for(var n=function(n){t[n].getDiv().onclick=function(e){q.next(t[n])}},e=0;e<t.length;e++)n(e)})),this._reserve.sub((function(t){for(var n=function(n){t[n].getDiv().onclick=function(e){q.replaceOn(t[n])}},e=0;e<t.length;e++)n(e)}))},n.prototype.setArmyBase=function(){t.prototype.setArmyBase.call(this);for(var n=0;n<6;n++)this._reserve.add(new P);for(n=0;n<4;n++)this._reserve.add(new O);for(n=0;n<3;n++)this._reserve.add(new g);for(n=0;n<2;n++)this._reserve.add(new k);this._reserve.mix()},n}(v),T=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),C=function(t){function n(){return t.call(this,"Бронитехника",30,10,"assets/лёгкая бронитехника.jpg",40)||this}return T(n,t),n}(b),D=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),E=function(t){function n(){return t.call(this,"отравитель",12,6,"assets/отравитель.jpg")||this}return D(n,t),n}(b),M=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),H=function(t){function n(){return t.call(this,"Башня",120,3,"assets/сторожевая башня.jpg",55)||this}return M(n,t),n}(b),I=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),N=function(t){function n(){return t.call(this,"Тяжёлая пехота",20,6,"assets/тяжёлая пехота.jpg",10)||this}return I(n,t),n}(b),S=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),B=function(t){function n(){return t.call(this,U)||this}return S(n,t),n.prototype.setArmyBase=function(){t.prototype.setArmyBase.call(this);for(var n=0;n<6;n++)this._reserve.add(new N);for(n=0;n<4;n++)this._reserve.add(new E);for(n=0;n<3;n++)this._reserve.add(new C);for(n=0;n<2;n++)this._reserve.add(new H);this._reserve.mix()},n.prototype.update=function(){t.prototype.update.call(this);for(var n=this._attack.actual.length;n<3;n++)if(!this._attack.actual[n]){var e=this._reserve.actual.pop();e&&(this._attack.add(e),this._reserve.remove(e))}},n}(v),G=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),W=function(t){function n(n,e){var r=t.call(this,null)||this;return r._attacking=n,r._reserve=e,r.sub((function(t){t&&t.getDiv().classList.add("card_active"),r.oldCard&&r.oldCard.getDiv().classList.remove("card_active"),t==r.oldCard&&t?r.next(null):r.oldCard=t})),r}return G(n,t),n.prototype.replaceOn=function(t){var n=this;if(!this.value)return this._reserve.remove(t),void this._attacking.add(t);this._attacking.nextFn((function(e){for(var r=0;r<e.length;r++)if(e[r]==n.value)return e[r]=t,e;return e})),this._reserve.nextFn((function(e){for(var r=0;r<e.length;r++)if(e[r]==t)return e[r]=n.value,e;return e})),this.next(null)},n}(s);!function(t){t[t.CONTINUE=0]="CONTINUE",t[t.GAMER_WIN=1]="GAMER_WIN",t[t.OPPONENT_WIN=2]="OPPONENT_WIN",t[t.DRAW=3]="DRAW"}(c||(c={}));var F=new h("Савва",50,10),U=new h("Противник",50,10),R=(new y([]),new y([]),new y([]),new y([]),new L),Y=new B,q=new W(F.army.attack,F.army.reserve);new s(c.CONTINUE);function z(t){return new Promise((function(n){t.classList.add("text_warning"),setTimeout((function(){t.classList.remove("text_warning")}),500)}))}function J(t){return void 0===t&&(t=1e3),new Promise((function(n){setTimeout((function(){n()}),t)}))}function K(){var t=.5*document.documentElement.clientHeight;return new Promise((function(n){var e=setInterval((function(){window.pageYOffset<=5&&(n(),clearInterval(e)),window.scrollBy(0,20/300*-t)}),20)}))}function Q(t){R.toggleClassCards(t),Y.toggleClassCards(t)}var V=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,u)}c((r=r.apply(t,n||[])).next())}))},X=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Z=r("roundbtn");function $(){r("infinite").classList.add("btn_hide"),r("roundbtn").classList.remove("btn_hide"),F.army.init(),U.army.init(),tt(F),tt(U)}function tt(t){t.nextFn((function(t){return t.hp=t.maxHp,t}))}Z.onclick=function(t){return V(void 0,void 0,void 0,(function(){return X(this,(function(t){switch(t.label){case 0:return Z.classList.add("btn_hide"),[4,new Promise((function(t){Q("card_jolt"),setTimeout((function(){Q("card_jolt"),Q("card_attack"),setTimeout((function(){Q("card_attack"),t()}),1e3)}),1e3)}))];case 1:return t.sent(),function(){for(var t=R.getAttacking(),n=Y.getAttacking(),e=0;e<3;e++)t[e].toDamage(n[e]),n[e].toDamage(t[e]);R.update(),Y.update()}(),0==F.actual.hp&&0==U.actual.hp||(0==F.actual.hp?r("infinite").classList.remove("btn_hide"):0==U.actual.hp?r("infinite").classList.remove("btn_hide"):Z.classList.remove("btn_hide")),[2]}}))}))},r("infinite").onclick=$,$();var nt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),et=function(t){function n(){return t.call(this,null,null,null,null)||this}return nt(n,t),n.prototype.getDiv=function(){var t=document.createElement("div");t.classList.add("card"),t.classList.add("card_entry");var n=document.createElement("span");return n.innerHTML="Пусто",t.appendChild(n),t},n}(b);U.army.attack.sub((function(t){var n=r("table__opponent");a(n),t.forEach((function(t){n.appendChild(t.getDiv())}))})),F.army.attack.sub((function(t){var n=r("table__gamer");a(n);var e=[new et,new et,new et];t.forEach((function(t,n){e[n]=t})),e.forEach((function(t){t.getDiv().classList.contains("card_gamer")||t.getDiv().classList.add("card_gamer"),n.appendChild(t.getDiv())}))}));var rt=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,u)}c((r=r.apply(t,n||[])).next())}))},ot=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},it={gamer:F.actual.hp,opponent:U.actual.hp};U.sub((function(t){return rt(void 0,void 0,void 0,(function(){var n,e,i,a;return ot(this,(function(u){switch(u.label){case 0:return n=o(r("opponent")),e=n.name,i=n.hp,a=n.damage,e.innerHTML=t.units+' <i class="fas fa-users"></i>',i.innerHTML=t.hp+"/"+t.maxHp+' <i class="fas fa-heart"></i>',a.innerHTML=t.damage+' <i class="fas fa-fire-alt"></i>',t.hp==it.opponent?[3,2]:(it.opponent=t.hp,[4,z(i)]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))})),F.sub((function(t){return rt(void 0,void 0,void 0,(function(){var n,e,i,a;return ot(this,(function(u){switch(u.label){case 0:return n=o(r("gamer")),e=n.name,i=n.hp,a=n.damage,e.innerHTML=t.units+' <i class="fas fa-users"></i>',i.innerHTML=t.hp+"/"+t.maxHp+' <i class="fas fa-heart"></i>',a.innerHTML=t.damage+' <i class="fas fa-fire-alt"></i>',t.hp==it.gamer?[3,2]:(it.gamer=t.hp,[4,z(i)]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))})),F.army.reserve.sub((function(t){a(r("ranks")),t.forEach((function(t){var n=t.getDiv();n.classList.contains("card_gamer")||n.classList.add("card_gamer"),r("ranks").appendChild(n)}))}));var at=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ut=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return at(n,t),n}(s),ct=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,u)}c((r=r.apply(t,n||[])).next())}))},st=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ft=new(function(){function t(){this.demands=[]}return t.prototype.add=function(t){var n=this;t.sub((function(t){return ct(n,void 0,void 0,(function(){return st(this,(function(t){switch(t.label){case 0:return this.checkAll()?[4,J(200)]:[3,3];case 1:return t.sent(),[4,(n=.5*document.documentElement.clientHeight,new Promise((function(t){var e=setInterval((function(){window.pageYOffset>=n&&(t(),clearInterval(e)),window.scrollBy(0,n*(20/300))}),20)})))];case 2:return t.sent(),[3,6];case 3:return[4,J(200)];case 4:return t.sent(),[4,K()];case 5:t.sent(),t.label=6;case 6:return[2]}var n}))}))})),this.demands.push(t)},t.prototype.createDemand=function(t){void 0===t&&(t=!1);var n=new ut(t);return this.add(n),n},t.prototype.checkAll=function(){for(var t=0;t<this.demands.length;t++)if(this.demands[t].actual)return!0;return!1},t}()),lt=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,u)}c((r=r.apply(t,n||[])).next())}))},pt=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};document.body.onload=function(){return lt(void 0,void 0,void 0,(function(){var t,n;return pt(this,(function(e){switch(e.label){case 0:return[4,J(3e3)];case 1:return e.sent(),t=ft.createDemand(),F.army.attack.sub((function(n){return lt(void 0,void 0,void 0,(function(){return pt(this,(function(e){return n.length<3&&0!=F.army.reserve.actual.length?t.next(!0):t.next(!1),[2]}))}))})),n=ft.createDemand(),q.sub((function(t){return lt(void 0,void 0,void 0,(function(){return pt(this,(function(e){return t&&0!=F.army.reserve.actual.length?n.next(!0):n.next(!1),[2]}))}))})),[2]}}))}))}}]);
//# sourceMappingURL=main.js.map